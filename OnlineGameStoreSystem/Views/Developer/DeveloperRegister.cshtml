@model OnlineGameStoreSystem.Models.ViewModels.DeveloperRegisterVM
@{
    ViewData["Title"] = "Developer Application";
}

<div class="dashboard-container">
    <h1 class="dashboard-title">Join the Developer Planning</h1>
    <p class="dashboard-subtitle">Please fill out the form to apply as a developer.</p>

    <form asp-controller="Developer" asp-action="Apply" method="post">
        @Html.AntiForgeryToken()

        @if (TempData["FlashMessage"] != null)
        {
            <div class="upload-errors" role="status" style="background:#063; color:#fff; padding:10px; border-radius:6px; margin-bottom:12px;">
                @TempData["FlashMessage"]
            </div>
        }

        @if (!ViewData.ModelState.IsValid)
        {
            <div class="upload-errors" role="alert" style="background:#2b000a;color:#ffd7df;padding:10px;border-radius:6px;margin-bottom:12px;">
                <strong>Validation errors:</strong>
                <ul style="margin:8px 0 0 18px;">
                    @foreach (var kv in ViewData.ModelState)
                    {
                        foreach (var err in kv.Value.Errors)
                        {
                            <li>@err.ErrorMessage</li>
                        }
                    }
                </ul>
            </div>
        }

        <div class="section-wrapper">
            <div class="section-badge">Your information</div>
        </div>

        <div class="form-row">
            <div class="form-col-fluid">
                <label>Legal English Name</label>
                <input asp-for="FullName" class="form-input" />
                <label>ID card number / Passport number</label>
                <input asp-for="IdNumber" class="form-input" />

                <span asp-validation-for="IdNumber" class="text-danger-custom"></span>
            </div>

            <div class="form-col-fixed">
                <label>Date of birth</label>
                <input asp-for="Dob" class="form-input input-date" type="date" />
            </div>
        </div>

        <div class="section-wrapper">
            <div class="section-badge">Country & Region</div>
        </div>

        <div class="form-row">
            <div class="form-col-fluid">
                <label>Street Address</label>
                <input asp-for="Address1" class="form-input" />
                <input asp-for="Address2" class="form-input" />

                <label>City/Town</label>
                <input asp-for="City" class="form-input" />

                <div class="address-grid">
                    <div class="address-col-small">
                        <label>Postal Code</label>
                        <input asp-for="PostalCode" class="form-input input-date" />
                    </div>

                    <div class="address-col-small">
                        <label>Country/Region</label>
                        <select asp-for="Country" id="CountrySelect" class="form-input country-select-width">
                            <option value="Malaysia" selected>Malaysia</option>
                            <option value="United States">United States</option>
                            <option value="Singapore">Singapore</option>
                        </select>
                    </div>
                </div>

                <div id="StateContainer">
                    <label style="display:block; margin-top:8px;">State/Province</label>

                    <select asp-for="State" class="form-input input-short" id="StateDropdown">
                        <option value="">-- Select State/Territory --</option>
                        <option value="Johor">Johor</option>
                        <option value="Kedah">Kedah</option>
                        <option value="Kelantan">Kelantan</option>
                        <option value="Melaka">Melaka</option>
                        <option value="Negeri Sembilan">Negeri Sembilan</option>
                        <option value="Pahang">Pahang</option>
                        <option value="Perak">Perak</option>
                        <option value="Perlis">Perlis</option>
                        <option value="Pulau Pinang">Pulau Pinang (Penang)</option>
                        <option value="Sabah">Sabah</option>
                        <option value="Sarawak">Sarawak</option>
                        <option value="Selangor">Selangor</option>
                        <option value="Terengganu">Terengganu</option>
                        <option value="Kuala Lumpur">Kuala Lumpur (Federal Territory)</option>
                        <option value="Putrajaya">Putrajaya (Federal Territory)</option>
                    </select>

                    <span asp-validation-for="State" class="text-danger-custom"></span>
                </div>
            </div>
        </div>

        <div class="section-wrapper">
            <div class="section-badge">Contact Information</div>
        </div>

        <div class="form-row" style="align-items: center;">
            <div class="phone-wrapper">
                <select asp-for="PhoneCountry" class="phone-select">
                    <option>+60</option>
                    <option>+1</option>
                </select>
                <input asp-for="Phone" class="form-input" placeholder="09-555-0123" style="width: auto; flex:1;" />
            </div>

            <div class="form-col-fluid" style="min-width: 240px;">
                <label>Notification Email</label>
                <input asp-for="NotifyEmail" class="form-input" placeholder="example@gmail.com" />
            </div>
        </div>

        <div class="section-wrapper">
            <div class="section-badge">Payment Information</div>
            <h2 class="section-hint">This payment method and account will be used for income commission for developer.</h2>
        </div>

        <input type="hidden" id="hiddenPaymentMethod" name="SelectedPaymentMethod" value="Method 1" />

        <div class="payment-methods">
            <button type="button" class="btn btn-payment-option active" data-value="bank" data-target="#details-bank">Bank Account (Method 1)</button>
            <button type="button" class="btn btn-payment-option" data-value="paypal" data-target="#details-paypal">PayPal (Method 2)</button>
            <button type="button" class="btn btn-payment-option" data-value="tng" data-target="#details-tng">TNG Number (Method 3)</button>
        </div>

        <input type="hidden" asp-for="SelectedPaymentMethod" id="HiddenPaymentMethod" />

        <div id="payment-details-wrapper">

            <div id="details-bank" class="method-details active">

                <div class="form-col-fluid" style="gap: 5px;">
                    <label>Bank Account Number</label>
                    <input asp-for="BankAcctNumber" class="form-input" />
                </div>

                <div style="height: 10px;"></div>

                <div class="form-col-fluid" style="gap: 5px;">
                    <label>Account Holder Name</label>
                    <input asp-for="BankHolderName" class="form-input" />
                </div>

            </div>

            <div id="details-paypal" class="method-details hidden">
                <label>PayPal Email Address</label>
                <input asp-for="PayPalEmail" class="form-input" style="width: 40%;" />
            </div>

            <div id="details-tng" class="method-details hidden">
                <label>TNG Mobile Number</label>
                <input asp-for="TNGNumber" class="form-input" style="width: 40%;" />
            </div>

        </div>

        <div class="section-wrapper">
            <div class="section-badge">Contract</div>
        </div>

        <div>
            <textarea asp-for="Contract" class="form-textarea" placeholder="Contract content..."></textarea>
        </div>

        <div class="checkbox-wrapper">
            <label class="checkbox-label">
                <input asp-for="Agree" type="checkbox" /> Agree with terms
            </label>
        </div>

        <div class="btn-group-wrapper">
            <button class="btn-primary" type="submit">Confirm & Submit</button>
        </div>
    </form>
</div>

@section Scripts {
    <script src="~/js/components/developer.js" asp-append-version="true"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
}

@section Styles {
    <link rel="stylesheet" href="~/css/Developer/developer.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
}